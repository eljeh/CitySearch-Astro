---
import PropertyList from './PropertyList/PropertyList.astro';
import SearchControls from './SearchControls.astro';

const searchQuery = Astro.props;
---

<div class='results'>
  <section class='heading'>
    <h1 class='title-name'>Explore Calgary Rentals</h1>

    <div class='flex-row'>
      <h2 class='resultsFound'>Showing 40 Matching Properties</h2>

      <div class='form-group has-custom-select refine-select'>
        <label class='hide' for='refine'>refine</label>
        <select name='refine' id='refine' class='custom-select'>
          <option value=''>Refine</option>
          <option value=''>Lowest - Hightest</option>
          <option value=''>Alphabetical</option>
        </select>
      </div>
    </div>

    <SearchControls />
  </section>

  <div class='listWrapper'>
    <PropertyList />
  </div>
</div>

<style is:inline>
  .results {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    flex: unset;
    min-height: 350px;
    max-width: 100vw;
    z-index: 1;
  }
  /* @media screen and (orientation: portrait) {
  .results {
    height: calc(100vh - var(--banner-h));
    background: none !important;
    backdrop-filter: none !important;
    box-shadow: none !important;
 }
  .results.has-open {
    height: unset;
 }
}  */

  .results {
    flex: 0 1 46em;
  }
  .card {
    max-width: 13.5em;
  }
  @media screen and (orientation: landscape) {
    .results {
      flex: 0 1 28em;
    }
  }
  @media screen and (min-width: 1366px) {
    .results {
      flex: 0 1 42.8em;
    }
  }
  @media screen and (min-width: 1920px) {
    .results {
      flex: 0 1 46em;
    }
  }
  .results .listwrapper {
    display: flex;
  }
  .results .list {
    flex-wrap: wrap;
    display: flex;
    align-items: inherit;
    gap: 1em;
    z-index: 1;
    scroll-snap-type: x mandatory;
    scroll-padding: 1em;
  }

  /* @media screen and (orientation: portrait) {
  .results .list {
    flex-wrap: nowrap;
    overflow-x: scroll;
    align-self: end;
 }
} */

  @media screen and (min-width: 1024.1px) {
    .results .list {
      /* padding: 1em 1.618em; */
    }
  }
  .results.open {
    cursor: default !important;
    position: unset;
  }
  .results.open .list {
    flex-wrap: wrap;
    justify-content: center;
    max-width: 118.3em;
  }
  @media screen and (min-width: 768px) {
    .results.open {
      top: unset;
      flex: 0 0 100%;
    }
    .results.open .list {
      margin: auto;
      justify-content: start;
    }
  }
</style>
